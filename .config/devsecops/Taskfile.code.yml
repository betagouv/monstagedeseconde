---
version: "3"

tasks:
  default:
    desc: Run all generic code tasks
    cmds:
      - cmd: |
          if [[ "{{.TASK_COMMITLINT_ENABLED}}" == "true" ]]; then
            echo "üîç Running commitlint..."
            task commitlint
            echo "{{.TASK_SEPARATOR}}"
          else
            echo "‚ö†Ô∏è Skipping commitlint (disabled via TASK_COMMITLINT_ENABLED=false)"
          fi
        silent: true
      - cmd: |
          if [[ "{{.TASK_MEGALINTER_ENABLED}}" == "true" ]]; then
            echo "üîç Running megalinter..."
            task megalinter
            echo "{{.TASK_SEPARATOR}}"
          else
            echo "‚ö†Ô∏è Skipping megalinter (disabled via TASK_MEGALINTER_ENABLED=false)"
          fi
        silent: true
      - cmd: |
          if [[ "{{.TASK_COMMITIZEN_ENABLED}}" == "true" ]]; then
            echo "üìù Running commitizen checks..."
            task commitizen:check
            echo "{{.TASK_SEPARATOR}}"
            echo "üìù Running commitizen bump..."
            task commitizen:bump
            echo "{{.TASK_SEPARATOR}}"
          else
            echo "‚ö†Ô∏è Skipping commitizen (disabled via TASK_COMMITIZEN_ENABLED=false)"
          fi
        silent: true
      - cmd: |
          if [[ "{{.TASK_LIZARD_ENABLED}}" == "true" ]]; then
            echo "üîç Running lizard code analysis..."
            task lizard
            echo "{{.TASK_SEPARATOR}}"
          else
            echo "‚ö†Ô∏è Skipping lizard (disabled via TASK_LIZARD_ENABLED=false)"
          fi
        silent: true
